<!-- <app-topbar-notification></app-topbar-notification> -->
<mat-toolbar class="navbar-scrolltofixed stricky">
    <div fxHide.gt-sm>
        <button mat-icon-button (click)="onToggleSidenav()">
            <mat-icon > menu</mat-icon>
        </button>
    </div>
    <div class="m-auto">
        <a class="img_logo" [routerLink]="['/']">
            <!-- <img class="logo1 img-fluid" src="./../../assets/css/images/header-logo.png" alt="header-logo.png"> -->
            <img class="logo2 img-fluid" src="../../../../assets/resources/images/header-logo2.png" alt="header-logo2.png">
        </a>
    </div>
    <div fxHide.gt-sm>
        <button mat-icon-button [matMenuTriggerFor]="user_info" *ngIf="LoggedIn" aria-label="" style="margin-top: 5px;">
            
           <span id="icon">
                <i class="fa fa-user" ></i>
                <i class="fa fa-sort-down"></i>
            </span> 
            
        </button>  
            <span id="icon" *ngIf="!LoggedIn">
                 <a  class="text-secondary" [routerLink]="['/login']" routerLinkActive="active" style="font-weight: 700">Login</a>
             </span> 
        <mat-menu #user_info="matMenu">
            <button mat-menu-item class="text-center" disabled *ngIf="LoggedIn">
                <span>{{ userName }}</span>
            </button>
            <button mat-menu-item class="text-center links" *ngIf="LoggedIn">
                <span>
                    <a class="dropdown-item text-secondary" [routerLink]="['/profile']" routerLinkActive="active_sub">My Profile</a>
                </span>
            </button>
            <button mat-menu-item class="text-center links" *ngIf="LoggedIn">
                <span>
                    <a class="dropdown-item text-secondary" [routerLink]="['/my-properties']" routerLinkActive="active_sub">Rented Properties</a>
                </span>
            </button>
            <button mat-menu-item class="text-center links" *ngIf="LoggedIn">
                <span>
                    <a class="dropdown-item text-secondary" [routerLink]="['/agent/my-plans']" routerLinkActive="active_sub">My Plans</a>
                </span>
            </button>
            <button mat-menu-item class="text-center links" *ngIf="LoggedIn">
                <span>
                    <a class="dropdown-item text-secondary" [routerLink]="['/agent/my-payment-summery']" routerLinkActive="active_sub">My Payment Summery</a>
                </span>
            </button>     
            <button mat-menu-item class="text-center links" *ngIf="LoggedIn">
                <span>
                    <a class="dropdown-item text-secondary" [routerLink]="['/agent/my-properties']" routerLinkActive="active_sub">Listed Properties</a>
                </span>
            </button>
            <button mat-menu-item class="text-center links" *ngIf="LoggedIn && service_provider == true">
                <span>
                    <a class="dropdown-item text-secondary" [routerLink]="['/agent/local-services']" routerLinkActive="active_sub">Local Services Provider</a>
                </span>
            </button>
            <button mat-menu-item class="text-center links" *ngIf="LoggedIn">
                <span><a class="dropdown-item text-secondary" [routerLink]="['/logout']" routerLinkActive="active">Log out</a></span>
            </button>
        </mat-menu>
    </div>
    <div fxFlex fxLayout fxLayoutAlign="end" fxHide.lt-md>
        <ul fxLayout fxLayoutGap="30px" class="navigation-items">
            <li>
                <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]={exact:true}>Home</a>
            </li>
            <li>
                <a [routerLink]="['/product-listing']" routerLinkActive="active">Listing</a>
            </li>
            <li>
                <a [routerLink]="['/plans']" routerLinkActive="active">Plans</a>
            </li>
            <li>
                <a [routerLink]="['/contact']" routerLinkActive="active">Contact</a>
            </li>
            <li>
                <a [routerLink]="['/faq']" routerLinkActive="active">FAQs</a>
            </li>
            <li *ngIf="!LoggedIn">
                <a [routerLink]="['/login']" routerLinkActive="active">Login/Register</a>
            </li>
            <li *ngIf="LoggedIn" class="user_acc">
                <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu" routerLinkActive="active" style="margin-top: 5px;">
                    
                <span id="icon">
                    <i class="fa fa-user"></i>
                    <i class="fa fa-sort-down"></i>
                </span> 
                </button>
                <mat-menu #menu="matMenu">
                    <button mat-menu-item class="text-center pro_img">
                        <span *ngIf="profile_pic != 'null' && profile_pic.indexOf('https') != -1">
                            <img class="profile_image" src="{{profile_pic}}" alt="Profile Pic"></span>
                        <span *ngIf="profile_pic != 'null' && profile_pic.indexOf('https') == -1"><img class="profile_image"
                                src="{{ftpstring}}images/{{profile_pic}}" alt="Profile Pic"></span>
                        <span *ngIf="profile_pic == 'null'"><img class="profile_image"
                                src="./../../../../assets/resources/images/no-image-icon.png" alt="Profile Pic"></span>
                    </button>
                    <button mat-menu-item disabled class="text-center links">
                        <span><strong>{{ userName }}</strong></span>
                    </button>
                    <button mat-menu-item class="text-center links">
                        <span>
                            <a class="dropdown-item text-secondary" [routerLink]="['/profile']" routerLinkActive="active_sub">My Profile</a>
                        </span>
                    </button>
                    <button mat-menu-item class="text-center links">
                        <span>
                            <a class="dropdown-item text-secondary" [routerLink]="['/my-properties']" routerLinkActive="active_sub">Rented Properties</a>
                        </span>
                    </button>
                    <button mat-menu-item class="text-center links">
                        <span>
                            <a class="dropdown-item text-secondary" [routerLink]="['/agent/my-plans']" routerLinkActive="active_sub">My Plans</a>
                        </span>
                    </button>
                    <button mat-menu-item class="text-center links" *ngIf="LoggedIn">
                        <span>
                            <a class="dropdown-item text-secondary" [routerLink]="['/agent/my-payment-summery']" routerLinkActive="active_sub">My Payment Summery</a>
                        </span>
                    </button>    
                    <button mat-menu-item class="text-center links">
                        <span>
                            <a class="dropdown-item text-secondary" [routerLink]="['/agent/my-properties']" routerLinkActive="active_sub">Listed Properties</a>
                        </span>
                    </button>
                    <button mat-menu-item class="text-center links" *ngIf="service_provider == true">
                        <span>
                            <a class="dropdown-item text-secondary" [routerLink]="['/agent/local-services']" routerLinkActive="active_sub">Local Service Providers</a>
                        </span>
                    </button>
                    <button mat-menu-item class="text-center links">
                        <span><a class="dropdown-item text-secondary" [routerLink]="['/logout']">Log out</a></span>
                    </button>
                </mat-menu>

            </li>
            <li *ngIf="LoggedIn">
                <a [routerLink]="['/wishlist']" routerLinkActive="active">
                    <span matBadge={{wishlist_length}} matBadgeOverlap="false" matBadgeColor="warn">
                        <i class="fa fa-heart-o"></i>
                    </span>
                </a>
            </li>
            <li *ngIf="LoggedIn">
                <a [routerLink]="['/product-compare']" routerLinkActive="active" *ngIf="property_comp_length>1;else otherPro_menu">
                    <span matBadge={{property_comp_length}} matBadgeOverlap="false" matBadgeColor="warn">
                        <i class="fa fa-exchange"></i>
                    </span>
                </a>
                <ng-template #otherPro_menu>
                    <a (click)="compare_notification()">
                        <span matBadge={{property_comp_length}} matBadgeOverlap="false" matBadgeColor="warn">
                            <i class="fa fa-exchange"></i> 
                        </span>
                    </a>
                </ng-template>
            </li>
            <li class="add_listing">
                <span>
                    <a [routerLink]="['/agent/list-property']" routerLinkActive="active">
                        <!-- <mat-icon *ngIf="icon_show == true"> add_circle_outline</mat-icon> -->
                        <i class="fa fa-plus-circle"></i>
                        <span> List Property</span>
                </a>
                </span>
            </li>
            
            <li class="toll_free">
                <span>
                    <a id="number">
                        <!-- <mat-icon *ngIf="icon_show == true">phone</mat-icon> -->
                        <i class="fa fa-phone"></i>
                        <span><a href="tel:{{toll_free}}" >{{toll_free}}</a></span>
                </a>
                </span>
            </li>
        </ul>
    </div>
</mat-toolbar>